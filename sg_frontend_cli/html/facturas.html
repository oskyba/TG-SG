<!DOCTYPE html>
<html>
<head>
	<title>Facturas</title>
	<!-- Incluir los archivos CSS y JavaScript necesarios -->
	<link rel="stylesheet" type="text/css" href="../css/styles.css">
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js" integrity="sha256-xLD7nhI62fcsEZK2/v8LsBcb4lG7dgULkuXoXB/j91c=" crossorigin="anonymous"></script>
</head>
<body>
	<hr size="4px" color="#008080"/>
	<div class="menu-container">
		<div class="buttons-container">
		  <button onclick="window.location.href='clientes.html'">Clientes</button>
		  <button onclick="window.location.href='facturas.html'">Facturas</button>
		  <button onclick="window.location.href='cobradores.html'">Cobradores</button>
		  <button onclick="window.location.href='contactabilidad.html'">Contactabilidad</button>
		</div>
		<div class="logout-container">
		  <a href="#" id="logout-link">Cerrar sesión</a>
		</div>
	  </div>
	<hr size="4px" color="#008080"/>
	<h1 class="center">Facturas</h1>
	<p><div class="right"><button id="add-factura-button" onclick="showModal()">Agregar factura</button></div></p>
    <input type="text" id="search-facturas" placeholder="Buscar..." onkeyup="doSearch()" />
	
	<table id="facturas-table">
		<thead>
			<tr>
				<th>ID Factura</th>
				<th>ID Cliente</th>
				<th>Fecha de emisión</th>
				<th>Número Factura</th>
				<th>Importe</th>
				<th>Fecha de vencimiento</th>
				<th>Fecha de cobro</th>
				<th>Estado</th>
				<th>Contactado por</th>
				<th>Cobrador Asignado</th>
				<th>Comentarios</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>

	<div id="snackbar">Factura actualizada con éxito</div>
    <div id="snackbarError">Hubo un problema al actualizar el registro</div>
    <div id="snackbarSystem">Hubo un problema al recuperar los registros</div>

    
	<!-- Modal para agregar o editar una factura -->
	<div id="modalFactura" class="modal">
		<div class="modal-content">
			<span class="close" onclick="closeModal()">&times;</span>
			<!-- Aquí se incluyen los campos de la factura -->
			<!-- El formulario se puede reutilizar para agregar y editar -->
			<form id="formFactura">
				<label for="idCliente">ID Cliente:</label>
					<input type="text" id="idCliente" name="idCliente" required>
				<label for="fechaEmision">Fecha:</label>
					<input type="date" id="fechaEmision" name="fechaEmision" required>
				<label for="numeroFactura">Número Factura:</label>
					<input type="text" id="numeroFactura" name="numeroFactura" required>
				<label for="importe">Importe:</label>
					<input type="text" id="importe" name="importe" required>
				<label for="fechaVenciminento">Fecha de vencimiento</label>
					<input type="date" id="fechaVencimiento" name="fechaVencimiento" required>
				<button id="cancel-client-button" onclick="closeModal()">Cancelar</button>
				<button id="save-button" onclick="agregarFactura()" >Guardar</button>
			</form>
		</div>
	</div>
	<script src="../js/global.js"></script>
	<script src="../js/facturas.js"></script>
    <script>	
	window.onload = (event) =>{

		cargarFacturas();
	
	};
    </script>
</body>
</html>